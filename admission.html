<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Registration & Payment Receipt - Computer & Digital Excellence</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            line-height: 1.6;
        }

        .receipt-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .receipt-header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .company-name {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }

        .company-subtitle {
            font-size: 14px;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .company-address {
            font-size: 12px;
            opacity: 0.8;
            line-height: 1.4;
        }

        .receipt-body {
            padding: 30px;
        }

        .receipt-title {
            text-align: center;
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        /* Form Sections */
        .form-section {
            margin-bottom: 40px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
        }

        .section-header {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: bold;
        }

        .section-description {
            background-color: #f8f9fa;
            padding: 10px 20px;
            font-size: 14px;
            color: #666;
            border-bottom: 1px solid #e0e0e0;
        }

        .section-content {
            padding: 25px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 14px;
        }

        .required {
            color: #e74c3c;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }

        .date-input {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
        }

        .photo-upload {
            border: 2px dashed #ddd;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-upload:hover {
            border-color: #3498db;
            background-color: #e8f4f8;
        }

        .photo-upload input[type="file"] {
            display: none;
        }

        .print-receipt {
            display: none;
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            font-family: 'Arial', sans-serif;
            line-height: 1.4;
            color: #333;
        }

        .print-receipt .print-header {
            text-align: center;
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 20px;
            margin-bottom: 25px;
        }

        .print-receipt .print-company-name {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .print-receipt .print-company-subtitle {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .print-receipt .print-company-address {
            font-size: 12px;
            color: #666;
        }

        .print-receipt .print-title {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 25px;
            text-transform: uppercase;
        }

        .print-receipt .print-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .print-receipt .print-info-section {
            flex: 1;
            margin-right: 20px;
        }

        .print-receipt .print-info-section:last-child {
            margin-right: 0;
        }

        .print-receipt .print-info-title {
            font-weight: bold;
            font-size: 14px;
            color: #2c3e50;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-bottom: 8px;
        }

        .print-receipt .print-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .print-receipt .print-table th {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
            font-weight: bold;
            font-size: 12px;
        }

        .print-receipt .print-table td {
            border: 1px solid #ddd;
            padding: 10px;
            font-size: 12px;
        }

        .print-receipt .print-totals {
            float: right;
            width: 300px;
            margin-bottom: 20px;
        }

        .print-receipt .print-total-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }

        .print-receipt .print-grand-total {
            font-weight: bold;
            font-size: 16px;
            border-top: 2px solid #2c3e50;
            border-bottom: double 3px #2c3e50;
            padding: 10px 0;
            margin-top: 5px;
        }

        .print-receipt .print-payment {
            clear: both;
            text-align: center;
            background-color: #f8f9fa;
            padding: 15px;
            border: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .print-receipt .print-footer {
            text-align: center;
            font-size: 11px;
            color: #666;
            border-top: 1px solid #ddd;
            padding-top: 15px;
        }

        @media print {
            body * {
                visibility: hidden;
            }
            
            .print-receipt, .print-receipt * {
                visibility: visible;
            }
            
            .print-receipt {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                display: block !important;
                margin: 0;
                padding: 20px;
            }
            
            .button-group {
                display: none !important;
            }
        }

        .course-selection {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .course-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .course-option:hover {
            border-color: #3498db;
            background-color: #f8f9fa;
        }

        .course-option input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .course-option.selected {
            border-color: #3498db;
            background-color: #e8f4f8;
        }

        /* Receipt Section */
        .receipt-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #3498db;
        }

        .info-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .info-content {
            color: #555;
            font-size: 13px;
            line-height: 1.4;
        }

        .services-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .services-table th {
            background-color: #34495e;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .services-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .services-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .total-section {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .grand-total {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            border-top: 2px solid #3498db;
            padding-top: 10px;
            margin-top: 10px;
        }

        .payment-method {
            text-align: center;
            background-color: #e8f5e8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #27ae60;
        }

        .receipt-footer {
            text-align: center;
            color: #666;
            font-size: 12px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        .thank-you {
            font-size: 16px;
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px auto;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .btn-print {
            background: linear-gradient(135deg, #e67e22, #d35400);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        @media print {
            body {
                background-color: white;
                padding: 0;
            }
            
            .receipt-container {
                box-shadow: none;
                border-radius: 0;
                max-width: none;
            }
            
            .button-group {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .course-selection {
                grid-template-columns: 1fr;
            }
            
            .receipt-info {
                grid-template-columns: 1fr;
            }
            
            .date-input {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="receipt-container">
        <div class="receipt-header">
            <div class="company-name">Computer & Digital Excellence</div>
            <div class="company-subtitle">(CODE)</div>
            <div class="company-address">
                Lokenath Nagar, Bagdogra<br>
                Pin Code: 734014<br>
                Phone: +91 XXXXX XXXXX | Email: info@code.com
            </div>

    <!-- Print-only Receipt Layout -->
    <div class="print-receipt" id="printReceipt">
        <div class="print-header">
            <div class="print-company-name">Computer & Digital Excellence</div>
            <div class="print-company-subtitle">(CODE)</div>
            <div class="print-company-address">
                Lokenath Nagar, Bagdogra, Pin Code: 734014<br>
                Phone: +91 XXXXX XXXXX | Email: info@code.com
            </div>
        </div>

        <div class="print-title">Course Registration & Payment Receipt</div>

        <div class="print-info">
            <div class="print-info-section">
                <div class="print-info-title">Receipt Details</div>
                <div>
                    <strong>Receipt No:</strong> <span id="printReceiptNo"></span><br>
                    <strong>Date:</strong> <span id="printCurrentDate"></span><br>
                    <strong>Time:</strong> <span id="printCurrentTime"></span>
                </div>
            </div>
            <div class="print-info-section">
                <div class="print-info-title">Student Information</div>
                <div>
                    <strong>Name:</strong> <span id="printStudentName"></span><br>
                    <strong>Phone:</strong> <span id="printStudentPhone"></span><br>
                    <strong>Email:</strong> <span id="printStudentEmail"></span><br>
                    <strong>Address:</strong> <span id="printStudentAddress"></span>
                </div>
            </div>
        </div>

        <table class="print-table">
            <thead>
                <tr>
                    <th>Course Description</th>
                    <th>Duration</th>
                    <th>Fee (‚Çπ)</th>
                </tr>
            </thead>
            <tbody id="printCourseTable">
            </tbody>
        </table>

        <div class="print-totals">
            <div class="print-total-row">
                <span>Subtotal:</span>
                <span id="printSubtotal">‚Çπ 0.00</span>
            </div>
            <div class="print-total-row">
                <span>Discount:</span>
                <span id="printDiscount">‚Çπ 0.00</span>
            </div>
            <div class="print-total-row print-grand-total">
                <span>Grand Total:</span>
                <span id="printGrandTotal">‚Çπ 0.00</span>
            </div>
        </div>

        <div class="print-payment">
            <strong>Payment Method:</strong> <span id="printPaymentMethod"></span><br>
            <strong>Payment Status:</strong> ‚úÖ PAID
        </div>

        <div class="print-footer">
            <div style="font-weight: bold; margin-bottom: 10px;">Thank You for Choosing CODE!</div>
            <p>For any queries, please contact us at the above details.<br>
            This is a computer-generated receipt.</p>
            <p style="margin-top: 10px; font-style: italic;">
                "Your Digital Solutions Partner"
            </p>
        </div>
    </div>
        </div>

        <div class="receipt-body">
            <h2 class="receipt-title">COURSE REGISTRATION & PAYMENT RECEIPT</h2>

            <!-- Section 1: Personal Information -->
            <div class="form-section">
                <div class="section-header">
                    Section 1 of 3 - Personal Information
                </div>
                <div class="section-description">
                    Please fill in your personal details for course registration
                </div>
                <div class="section-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Name <span class="required">*</span></label>
                            <input type="text" class="form-input" id="studentName" placeholder="First and last name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Phone Number <span class="required">*</span></label>
                            <input type="tel" class="form-input" id="phoneNumber" placeholder="+91 XXXXX XXXXX" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="email" placeholder="your.email@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Date of Birth <span class="required">*</span></label>
                            <div class="date-input">
                                <select class="form-input" id="dobMonth" required>
                                    <option value="">Month</option>
                                    <option value="01">January</option>
                                    <option value="02">February</option>
                                    <option value="03">March</option>
                                    <option value="04">April</option>
                                    <option value="05">May</option>
                                    <option value="06">June</option>
                                    <option value="07">July</option>
                                    <option value="08">August</option>
                                    <option value="09">September</option>
                                    <option value="10">October</option>
                                    <option value="11">November</option>
                                    <option value="12">December</option>
                                </select>
                                <input type="number" class="form-input" id="dobDay" placeholder="Day" min="1" max="31" required>
                                <input type="number" class="form-input" id="dobYear" placeholder="Year" min="1950" max="2010" required>
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label class="form-label">Address <span class="required">*</span></label>
                            <textarea class="form-input" id="address" rows="3" placeholder="Complete address with PIN code" required></textarea>
                        </div>
                        

                    </div>
                </div>
            </div>

            <!-- Section 2: Course Selection -->
            <div class="form-section">
                <div class="section-header">
                    Section 2 of 3 - Course Selection
                </div>
                <div class="section-description">
                    Select the course(s) you are interested in studying
                </div>
                <div class="section-content">
                    <div class="form-group">
                        <label class="form-label">Which course(s) are you interested in? <span class="required">*</span></label>
                        <div class="course-selection" id="courseSelection">
                            <div class="course-option" onclick="toggleCourse(this, 'CCA', 3500)">
                                <input type="checkbox" name="courses" value="CCA">
                                <span>CCA - ‚Çπ3,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'DCA', 5500)">
                                <input type="checkbox" name="courses" value="DCA">
                                <span>DCA - ‚Çπ5,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'ADCA', 8500)">
                                <input type="checkbox" name="courses" value="ADCA">
                                <span>ADCA - ‚Çπ8,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'Web Development - Basic', 4500)">
                                <input type="checkbox" name="courses" value="Web Development - Basic">
                                <span>Web Development - Basic - ‚Çπ4,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'Web Development - Advanced', 7500)">
                                <input type="checkbox" name="courses" value="Web Development - Advanced">
                                <span>Web Development - Advanced - ‚Çπ7,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'Ecommerce Expert (Industry Level)', 12000)">
                                <input type="checkbox" name="courses" value="Ecommerce Expert (Industry Level)">
                                <span>Ecommerce Expert (Industry Level) - ‚Çπ12,000</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'Ecommerce Expert (Job Ready)', 15000)">
                                <input type="checkbox" name="courses" value="Ecommerce Expert (Job Ready)">
                                <span>Ecommerce Expert (Job Ready) - ‚Çπ15,000</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'A.I. Prompt Engineering', 6500)">
                                <input type="checkbox" name="courses" value="A.I. Prompt Engineering">
                                <span>A.I. Prompt Engineering - ‚Çπ6,500</span>
                            </div>
                            <div class="course-option" onclick="toggleCourse(this, 'Digital Marketing Basics', 4000)">
                                <input type="checkbox" name="courses" value="Digital Marketing Basics">
                                <span>Digital Marketing Basics - ‚Çπ4,000</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Receipt -->
            <div class="form-section">
                <div class="section-header">
                    Section 3 of 3 - Payment Receipt
                </div>
                <div class="section-content">
                    <div class="receipt-info">
                        <div class="info-section">
                            <div class="info-title">Receipt Details</div>
                            <div class="info-content">
                                <strong>Receipt No:</strong> <span id="receiptNo">CODE-2024-001</span><br>
                                <strong>Date:</strong> <span id="currentDate"></span><br>
                                <strong>Time:</strong> <span id="currentTime"></span>
                            </div>
                        </div>
                        <div class="info-section">
                            <div class="info-title">Student Information</div>
                            <div class="info-content" id="studentInfo">
                                <strong>Name:</strong> <span id="displayName">[Enter name above]</span><br>
                                <strong>Phone:</strong> <span id="displayPhone">[Enter phone above]</span><br>
                                <strong>Email:</strong> <span id="displayEmail">[Enter email above]</span>
                            </div>
                        </div>
                    </div>

                    <table class="services-table">
                        <thead>
                            <tr>
                                <th>Course Description</th>
                                <th>Duration</th>
                                <th>Fee (‚Çπ)</th>
                                <th>Amount (‚Çπ)</th>
                            </tr>
                        </thead>
                        <tbody id="courseTable">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 20px; color: #666;">
                                    Select courses above to see pricing details
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="form-grid" style="margin-bottom: 20px;">
                        <div class="form-group">
                            <label class="form-label">Payment Method <span class="required">*</span></label>
                            <select class="form-input" id="paymentMethod" onchange="updatePaymentMethod()" required>
                                <option value="">Select Payment Method</option>
                                <option value="Cash">Cash</option>
                                <option value="UPI">UPI</option>
                                <option value="Card">Credit/Debit Card</option>
                                <option value="Bank Transfer">Bank Transfer</option>
                                <option value="Cheque">Cheque</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Discount Amount (‚Çπ)</label>
                            <input type="number" class="form-input" id="discountAmount" placeholder="Enter discount amount" min="0" oninput="updateTotals()">
                        </div>
                    </div>

                    <div class="total-section">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span id="subtotal">‚Çπ 0.00</span>
                        </div>
                        <div class="total-row">
                            <span>Discount:</span>
                            <span id="discount">‚Çπ 0.00</span>
                        </div>
                        <div class="total-row grand-total">
                            <span>Grand Total:</span>
                            <span id="grandTotal">‚Çπ 0.00</span>
                        </div>
                    </div>

                    <div class="payment-method">
                        <strong>Payment Method:</strong> <span id="displayPaymentMethod">[Select payment method above]</span><br>
                        <strong>Payment Status:</strong> ‚úÖ PAID
                    </div>

                    <div class="receipt-footer">
                        <div class="thank-you">Thank You for Choosing CODE!</div>
                        <p>For any queries, please contact us at the above details.<br>
                        This is a computer-generated receipt.</p>
                        <p style="margin-top: 15px; font-style: italic;">
                            "Your Digital Solutions Partner"
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="button-group">
        <button class="btn btn-success" onclick="generateReceipt()">üìã Generate Receipt</button>
        <button class="btn btn-print" onclick="printReceipt()">üñ®Ô∏è Print Receipt</button>
    </div>

    <script>
        let selectedCourses = [];
        let courseData = {
            'CCA': { price: 3500, duration: '3 months' },
            'DCA': { price: 5500, duration: '6 months' },
            'ADCA': { price: 8500, duration: '12 months' },
            'Web Development - Basic': { price: 4500, duration: '4 months' },
            'Web Development - Advanced': { price: 7500, duration: '8 months' },
            'Ecommerce Expert (Industry Level)': { price: 12000, duration: '6 months' },
            'Ecommerce Expert (Job Ready)': { price: 15000, duration: '8 months' },
            'A.I. Prompt Engineering': { price: 6500, duration: '3 months' },
            'Digital Marketing Basics': { price: 4000, duration: '2 months' }
        };

        // Set current date and time
        function setDateTime() {
            const now = new Date();
            const dateOptions = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: true 
            };

            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-IN', dateOptions);
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('en-IN', timeOptions);
            
            // Generate receipt number based on current date
            const receiptNo = 'CODE-' + now.getFullYear() + '-' + String(now.getTime()).slice(-6);
            document.getElementById('receiptNo').textContent = receiptNo;
        }

        // Toggle course selection
        function toggleCourse(element, courseName, price) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            
            if (checkbox.checked) {
                element.classList.add('selected');
                selectedCourses.push(courseName);
            } else {
                element.classList.remove('selected');
                selectedCourses = selectedCourses.filter(course => course !== courseName);
            }
            
            updateReceipt();
        }

        // Update receipt with selected courses
        function updateReceipt() {
            const tableBody = document.getElementById('courseTable');
            tableBody.innerHTML = '';
            
            if (selectedCourses.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="4" style="text-align: center; padding: 20px; color: #666;">
                            Select courses above to see pricing details
                        </td>
                    </tr>
                `;
                updateTotals(0);
                return;
            }
            
            let subtotal = 0;
            
            selectedCourses.forEach(courseName => {
                const course = courseData[courseName];
                subtotal += course.price;
                
                const row = `
                    <tr>
                        <td>${courseName}</td>
                        <td>${course.duration}</td>
                        <td>${course.price.toLocaleString('en-IN')}</td>
                        <td>${course.price.toLocaleString('en-IN')}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
            
            updateTotals();
        }

        // Update totals
        function updateTotals() {
            let subtotal = 0;
            
            selectedCourses.forEach(courseName => {
                const course = courseData[courseName];
                subtotal += course.price;
            });
            
            const discountAmount = parseInt(document.getElementById('discountAmount').value) || 0;
            const grandTotal = Math.max(0, subtotal - discountAmount);
            
            document.getElementById('subtotal').textContent = '‚Çπ ' + subtotal.toLocaleString('en-IN') + '.00';
            document.getElementById('discount').textContent = '‚Çπ ' + discountAmount.toLocaleString('en-IN') + '.00';
            document.getElementById('grandTotal').textContent = '‚Çπ ' + grandTotal.toLocaleString('en-IN') + '.00';
        }

        // Update payment method display
        function updatePaymentMethod() {
            const paymentMethod = document.getElementById('paymentMethod').value || '[Select payment method above]';
            document.getElementById('displayPaymentMethod').textContent = paymentMethod;
        }

        // Update student info in receipt
        function updateStudentInfo() {
            const name = document.getElementById('studentName').value || '[Enter name above]';
            const phone = document.getElementById('phoneNumber').value || '[Enter phone above]';
            const email = document.getElementById('email').value || '[Enter email above]';
            
            document.getElementById('displayName').textContent = name;
            document.getElementById('displayPhone').textContent = phone;
            document.getElementById('displayEmail').textContent = email;
        }

        // Generate receipt
        function generateReceipt() {
            updateStudentInfo();
            updateReceipt();
            updatePaymentMethod();
            populatePrintReceipt();
            
            // Scroll to receipt section
            document.querySelector('.form-section:last-child').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        // Populate print receipt with current data
        function populatePrintReceipt() {
            // Copy receipt details
            document.getElementById('printReceiptNo').textContent = document.getElementById('receiptNo').textContent;
            document.getElementById('printCurrentDate').textContent = document.getElementById('currentDate').textContent;
            document.getElementById('printCurrentTime').textContent = document.getElementById('currentTime').textContent;
            
            // Copy student information
            document.getElementById('printStudentName').textContent = document.getElementById('studentName').value || '[Not provided]';
            document.getElementById('printStudentPhone').textContent = document.getElementById('phoneNumber').value || '[Not provided]';
            document.getElementById('printStudentEmail').textContent = document.getElementById('email').value || '[Not provided]';
            document.getElementById('printStudentAddress').textContent = document.getElementById('address').value || '[Not provided]';
            
            // Copy course table
            const printTableBody = document.getElementById('printCourseTable');
            printTableBody.innerHTML = '';
            
            if (selectedCourses.length === 0) {
                printTableBody.innerHTML = `
                    <tr>
                        <td colspan="3" style="text-align: center; padding: 20px;">
                            No courses selected
                        </td>
                    </tr>
                `;
            } else {
                selectedCourses.forEach(courseName => {
                    const course = courseData[courseName];
                    const row = `
                        <tr>
                            <td>${courseName}</td>
                            <td>${course.duration}</td>
                            <td>‚Çπ ${course.price.toLocaleString('en-IN')}</td>
                        </tr>
                    `;
                    printTableBody.innerHTML += row;
                });
            }
            
            // Copy totals
            document.getElementById('printSubtotal').textContent = document.getElementById('subtotal').textContent;
            document.getElementById('printDiscount').textContent = document.getElementById('discount').textContent;
            document.getElementById('printGrandTotal').textContent = document.getElementById('grandTotal').textContent;
            
            // Copy payment method
            document.getElementById('printPaymentMethod').textContent = document.getElementById('paymentMethod').value || '[Not selected]';
        }

        // Print receipt function
        function printReceipt() {
            populatePrintReceipt();
            window.print();
        }

        // Add event listeners for real-time updates
        document.getElementById('studentName').addEventListener('input', updateStudentInfo);
        document.getElementById('phoneNumber').addEventListener('input', updateStudentInfo);
        document.getElementById('email').addEventListener('input', updateStudentInfo);

        // Photo upload handling
        // document.getElementById('photoInput').addEventListener('change', function(e) {
        //     const file = e.target.files[0];
        //     if (file) {
        //         const uploadDiv = document.querySelector('.photo-upload div');
        //         uploadDiv.innerHTML = `üì∑ Photo selected: ${file.name}<br><small>Click to change photo</small>`;
        //     }
        // });

        // Initialize
        setDateTime();
        updateStudentInfo();
    </script>
</body>
</html>
